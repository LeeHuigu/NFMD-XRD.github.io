<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NFMD LAB XRD 분석 신청</title>
  <style>
    /* 기본 스타일 (원하는 디자인에 맞게 수정하세요) */
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 960px;
      margin: 0 auto;
      background-color: #fff;
      padding: 20px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
      border-radius: 5px;
    }
    h1, h3 {
      color: #2A2650;
    }
    p {
      margin-bottom: 20px;
    }
    .box_basic {
      border: 1px solid #E0DFE2;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 5px;
      background-color: #fff;
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    input[type="text"],
    input[type="file"],
    textarea,
    select {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 3px;
      box-sizing: border-box;
    }
    .radio {
      margin-bottom: 10px;
    }
    .radio label {
      font-weight: normal;
      display: inline-block;
      margin-right: 20px;
    }
    .filebox label {
      display: inline-block;
      background-color: #eee;
      padding: 6px 12px;
      border-radius: 3px;
      cursor: pointer;
    }
    .filebox .upload-name {
      margin-left: 10px;
      vertical-align: middle;
      color: #666;
    }
    button {
      padding: 10px 20px;
      background-color: #2A2650;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #2A3562;
    }
    .add_button {
      background-color: #ccc;
      margin-top: 10px;
    }
    .info p {
      font-size: 0.9em;
      color: #777;
    }
    .time-range {
    display: flex;
    align-items: center;
    gap: 8px;            /* 항목들 사이 간격 */
    margin-top: 16px;
  }
  .time-range .picker {
    display: flex;
    flex-direction: column;
    flex: 1;             /* 가변 너비 조정 가능 */
  }
  .time-range .picker label {
    margin-bottom: 4px;
    font-weight: 500;
  }
  .time-range .picker input {
    width: 120px;
    padding: 6px;
    font-size: 1rem;
  }
  .time-range .tilde {
    font-size: 1.5rem;
    line-height: 1;
    transform: translateY(3px);
  }
  </style>
  <!-- jQuery (필요한 스크립트 기능을 위해) -->
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
</head>
<body>
  <div class="container">
    <!-- 페이지 제목 및 안내 문구 -->
    <h1>분석 신청</h1>
    <p>
      분석료는 다음과 같습니다. 
      <table border="1" cellspacing="0" cellpadding="8" style="border-collapse: collapse; width: 100%; text-align: center;">
  <thead>
    <tr style="background-color: #f0f0f0;">
      <th>장비</th>
      <th>기준</th>
      <th>일반</th>
      <th style="color: red;">긴급 (48시간 이내)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Self - XRD(자율 측정)</td>
      <td>시간 당</td>
      <td>15,000</td>
      <td>15,000</td>
    </tr>
    <tr>
      <td>XRD</td>
      <td>샘플 당</td>
      <td>40,000</td>
      <td>50,000</td>
    </tr>
    <tr>
      <td>XRR</td>
      <td>샘플 당</td>
      <td>40,000</td>
      <td>50,000</td>
    </tr>
    <tr>
      <td>XRD (fitting)</td>
      <td>샘플 당</td>
      <td>110,000</td>
      <td>130,000</td>
    </tr>
  </tbody>
</table>
    </p>

    <!-- 분석 신청 양식 -->
    <form name="requestform" method="post" data-netlify="true" data-netlify-honeypot="bot-field" enctype="multipart/form-data">
      <!-- Honeypot 필드: 사용자가 보이지 않게 처리 -->
      <input type="hidden" name="bot-field" value="">
      <!-- 폼 이름(hidden 필드) -->
      <input type="hidden" name="form-name" value="requestform">
    

      <!-- 이용약관 및 개인정보보호 동의 -->
      <div class="box_basic">
        <label>
          <input type="checkbox" name="agreement" id="agreement" required>
          상기 홈페이지 약관 및 개인정보 수집, 이용, 제공에 모두 동의합니다.
        </label>
      </div>

      <!-- 1. 신청자 정보 -->
      <div class="box_basic">
        <h3>신청자 정보</h3>
        <div>
          <label for="person_name">이름 (분석결과서 조회 시 사용)</label>
          <input type="text" id="person_name" name="person_name"  required>
        </div>
        <div>
          <label for="team">소속(기관명)</label>
          <input type="text" id="team" name="team" required>
        </div>
        <div>
          <label for="address">주소</label>
          <input type="text" id="address" name="address" required>
        </div>
        <div>
          <label for="phone">연락처 (휴대전화)</label>
          <input type="text" id="phone" name="phone"  maxlength="13" class="phone" required>
        </div>
        <div>
          <label for="email">이메일</label>
          <input type="text" id="email" name="email" required>
        </div>
        <div>
          <label for="reservationDate">예약 날짜</label><br>
          <input type="text" id="reservationDate" name="reservationDate" required>
        </div>
                      <!-- 시간 범위 -->
        <div>
          <div>
            <label for="startTime">시작 시간</label>
            <input type="text" id="startTime" name="startTime" required>
          </div>
        
          <!-- 물결(~) -->
          <div class="tilde">~</div>
        
          <!-- 종료 시간 -->
          <div>
            <label for="text">종료 시간</label>
            <input type="time" id="endTime" name="endTime" required>
          </div>
        </div>
            
      
     </div>

      <!-- 2. 세금계산서 발행용 정보 -->
      <div class="box_basic">
        <h3>세금계산서 발행용</h3>
        <div>
          <label for="team2">소속</label>
          <input type="text" id="team2" name="team2" required>
          <span>개인 신청자는 이름을 적어주세요.</span>
        </div>
        <div>
          <label for="companynum">사업자등록번호</label>
          <input type="text" id="companynum" name="companynum" maxlength="15" required>
          <span>개인 신청자는 주민등록번호를 적어주세요.</span>
        </div>
        <div>
          <label for="manager">담당자</label>
          <input type="text" id="manager" name="manager" required>
        </div>
        <div>
          <label for="phone2">연락처</label>
          <input type="text" id="phone2" name="phone2" maxlength="13" class="phone" required>
        </div>
        <div>
          <label for="email2">이메일</label>
          <input type="text" id="email2" name="email2" required>
        </div>
        <div>
          <label for="company_registration">사업자등록증 사본</label>
          <div class="filebox">
            <label for="file">파일 선택</label>
            <input class="upload-name" value="선택된 파일 없음" readonly>
            <input type="file" id="file" name="company_registration" required>
          </div>
          <span>개인 신청자는 주민등록증 사본을 등록해 주세요.</span>
        </div>
  
        <div>
          <label>분석료 청구서 발행 여부</label>
          <div class="radio">
            <label><input type="radio" name="tradingstatement" value="발행"> 발행</label>
            <label><input type="radio" name="tradingstatement" value="" checked> 미발행</label>
          </div>
        </div>
        <div>
          <label>세금계산서 발행일</label>
          <div class="radio">
            <label>
              <input type="radio" name="taxbill" value="접수 당일" checked> 접수 당일
            </label>
            <label>
              <input type="radio" name="taxbill" value="지정일"> 지정일
              <input type="text" name="taxbill_date" id="taxbill_date_input" placeholder="YYMMDD">
            </label>
          </div>
        </div>
      </div>

      <!-- 3. 분석 결과서 옵션 -->
      <div class="box_basic">
        <h3>분석 결과서 옵션</h3>
        <div>
          <label>측정 방식</label>
          <div class="radio">
            <label><input type="radio" name="period" value="자율" checked> 자율</label>
            <label><input type="radio" name="period" value="보통" checked> 보통</label>
            <label><input type="radio" name="period" value="긴급"> 긴급</label>
          </div>
        </div>
        <div>
          <label>발급언어</label>
          <div class="radio">
            <label><input type="radio" name="language" value="국문" checked> 국문 (기본)</label>
            <label><input type="radio" name="language" value="영문"> 영문</label>
          </div>
        </div>
        <div>
          <label>수령방법</label>
          <div class="radio">
            <label><input type="radio" name="receive" value="자율" checked> 자율</label>
            <label><input type="radio" name="receive" value="E-Mail"> E-Mail</label>
            <label><input type="radio" name="receive" value="우편"> 우편</label>
          </div>
        </div>
        <div>
          <label>분석결과서 분할</label>
          <div class="radio">
            <label><input type="radio" name="division" value="자율" checked> 자율</label>
            <label><input type="radio" name="division" value="샘플별 분할"> 샘플별 분할</label>
            <label><input type="radio" name="division" value="장비별 분할" checked> 장비별 분할</label>
            <label><input type="radio" name="division" value="통합"> 통합</label>
          </div>
        </div>
        <div>
          <label>용도</label>
          <div class="radio">
            <label><input type="radio" name="use" value="연구개발" checked> 연구개발</label>
            <label><input type="radio" name="use" value="과제 제출"> 과제 제출</label>
            <label>
              <input type="radio" name="use" value="기타" id="result_use"> 기타  
              <input type="text" name="use_blank" id="result_info_input" placeholder="용도 입력">
            </label>
          </div>
        </div>
        <div>
          <label>부가 서비스</label>
          <div class="radio">
            <label><input type="radio" name="service" value="Raw Data" checked> Raw Data fitting (측정 데이터 기본 fitting)</label>
          </div>
        </div>
      </div>

      <!-- 4. 시료 정보 -->
      <div class="box_basic">
        <h3>시료 정보</h3>
        <div class="table_information">
          <div class="sample_box">
            <div>
              <label>시료명</label>
              <input type="text" name="sample_name[]" required>
            </div>
            <div>
              <label>시료 종류</label>
              <input type="text" name="sample_type[]" placeholder="박막, 파우더" required>
            </div>
            <div>
              <label>시료 개수</label>
              <input type="text" name="sample_count[]" required>
            </div>
            <div>
              <label>기판 종류</label>
              <input type="text" name="substrate_type[]" required>
            </div>
            <div>
              <label>기판 크기</label>
              <input type="text" name="substrate_size[]" required>
            </div>    
          </div>
        </div>
        <button type="button" class="add_button">시료 추가</button>
      </div>

      <!-- 5. 분석 항목 (분석 장비 선택) -->
      <div class="box_basic">
        <h3>분석 장비 선택</h3>
        <div>
          <label for="equipment">분석 장비</label>
          <select name="equipment" id="equipment" required>
            <option value="XRD (High-Resolution X-ray Diffraction)">XRD Thin film(High-Resolution X-ray Diffraction)</option>
            <option value="XRD (High-Resolution X-ray Diffraction)">XRD Powder(High-Resolution X-ray Diffraction)</option>
            <option value="XRR (X-ray reflectivity)">XRR (X-ray reflectivity)</option>
          </select>
        </div>
      </div>

      <!-- 6. 분석 내용 -->
      <div class="box_basic">
        <h3>분석 내용</h3>
        <div>
          <label for="analysismemo">분석 내용 작성 (자율 측정 신청자는 없음이라고 기입)</label>
          <textarea name="analysismemo" id="analysismemo" rows="5" placeholder="원하시는 분석 내용을 작성하세요."></textarea>
        </div>
      </div>

      <!-- 안내 문구 및 제출 버튼 -->
      <div class="info">
        <p>* 측정 결과는 완료 후 메일로 전송하여 드립니다.</p>
        <p>* 측정 완료 후 당일 데이터 발송을 원하시면 문의 바랍니다.</p>
      </div>
      <button type="submit" name="submit">신청하기</button>
    </form>
  </div>

  <!-- 스크립트 부분 -->
  <script>
    // 전화번호 입력 포맷 (예: 010-0000-0000)
    $(document).ready(function(){
      $('.phone').keydown(function(event) {
        var key = event.charCode || event.keyCode || 0;
        var $text = $(this);
        if (key !== 8 && key !== 9) {
          if ($text.val().length === 3) {
            $text.val($text.val() + '-');
          }
          if ($text.val().length === 8) {
            $text.val($text.val() + '-');
          }
        }
        return (key == 8 || key == 9 || key == 46 ||
                (key >= 48 && key <= 57) || (key >= 96 && key <= 105));
      });

      // 파일 선택시 파일명 표시
      $('#file').on('change', function(){
        var fileName = $(this).val().split('\\').pop();
        $('.upload-name').val(fileName);
      });

      // 시료 추가 버튼: 기존 시료 박스 복제 후 추가
      $('.add_button').on('click', function(){
        var sampleHTML = `
          <div class="box_basic sample">
            <h3>시료 정보 (추가)</h3>
            <div class="table_information">
              <div>
                <label>시료명</label>
                <input type="text" name="sample_name[]" required>
              </div>
              <div>
                <label>시료 종류</label>
                <input type="text" name="sample_type[]" placeholder="유기물/무기물/합성물 등" required>
              </div>
              <div>
                <label>시료 상태</label>
                <input type="text" name="sample_status[]" placeholder="고체/파우더/액상/겔/박막/플레이크 등" required>
              </div>
              <div>
                <label>시료 개수</label>
                <input type="text" name="sample_count[]" required>
              </div>
              <div>
                <label>기판 종류</label>
                <input type="text" name="substrate_type[]" required>
              </div>
              <div>
                <label>기판 크기</label>
                <input type="text" name="substrate_size[]" required>
              </div>
              <div>
                <label>시료 처리</label>
                <input type="text" name="sample_handling[]" placeholder="폐기/반환" required>
              </div>
              <div>
                <label>분석 희망 일자</label>
                <input type="text" name="etc[]" placeholder="날짜와 시간">
              </div>
            </div>
            <button type="button" class="delete" onclick="$(this).parent().remove();">삭제</button>
          </div>`;
        // 시료 추가 박스는 컨테이너에 후단에 추가합니다.
        $(this).closest('.container').append(sampleHTML);
      });
    });
  </script>
</body>
</html>
